{"ast":null,"code":"import { signout } from \"./auth\";\nconst auth = {\n  isAuthenticated() {\n    if (typeof window == \"undefined\") return false;\n    if (sessionStorage.getItem(\"jwt\")) return JSON.parse(sessionStorage.getItem(\"jwt\"));else return false;\n  },\n  getUserName() {\n    if (typeof window == \"undefined\") return false;\n    if (sessionStorage.getItem(\"jwt\")) {\n      var _jwtToken$user;\n      const jwtToken = JSON.parse(sessionStorage.getItem(\"jwt\"));\n      return jwtToken === null || jwtToken === void 0 ? void 0 : (_jwtToken$user = jwtToken.user) === null || _jwtToken$user === void 0 ? void 0 : _jwtToken$user.name;\n    } else {\n      return false;\n    }\n  },\n  authenticate(jwt, cb) {\n    if (typeof window !== \"undefined\") sessionStorage.setItem(\"jwt\", JSON.stringify(jwt));\n    cb();\n  },\n  clearJWT(cb) {\n    if (typeof window !== \"undefined\") sessionStorage.removeItem(\"jwt\");\n    cb();\n    //optional\n    signout().then(data => {\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    });\n  }\n};\nexport default auth;","map":{"version":3,"names":["signout","auth","isAuthenticated","window","sessionStorage","getItem","JSON","parse","getUserName","_jwtToken$user","jwtToken","user","name","authenticate","jwt","cb","setItem","stringify","clearJWT","removeItem","then","data","document","cookie"],"sources":["C:/Users/Obbi/Documents/bootcamp challenges/Bookie/Bookie/client/src/service/auth-helper.js"],"sourcesContent":["import { signout } from \"./auth\";\r\n\r\nconst auth = {\r\n  isAuthenticated() {\r\n    if (typeof window == \"undefined\") return false;\r\n\r\n    if (sessionStorage.getItem(\"jwt\"))\r\n      return JSON.parse(sessionStorage.getItem(\"jwt\"));\r\n    else return false;\r\n  },\r\n  getUserName() {\r\n    if (typeof window == \"undefined\") return false;\r\n    if (sessionStorage.getItem(\"jwt\")) {\r\n      const jwtToken = JSON.parse(sessionStorage.getItem(\"jwt\"));\r\n      return jwtToken?.user?.name;\r\n    } else {\r\n      return false;\r\n    }\r\n  },\r\n  authenticate(jwt, cb) {\r\n    if (typeof window !== \"undefined\")\r\n      sessionStorage.setItem(\"jwt\", JSON.stringify(jwt));\r\n    cb();\r\n  },\r\n  clearJWT(cb) {\r\n    if (typeof window !== \"undefined\") sessionStorage.removeItem(\"jwt\");\r\n    cb();\r\n    //optional\r\n    signout().then((data) => {\r\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n    });\r\n  },\r\n};\r\n\r\nexport default auth;\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,QAAQ;AAEhC,MAAMC,IAAI,GAAG;EACXC,eAAeA,CAAA,EAAG;IAChB,IAAI,OAAOC,MAAM,IAAI,WAAW,EAAE,OAAO,KAAK;IAE9C,IAAIC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC,EAC/B,OAAOC,IAAI,CAACC,KAAK,CAACH,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,KAC9C,OAAO,KAAK;EACnB,CAAC;EACDG,WAAWA,CAAA,EAAG;IACZ,IAAI,OAAOL,MAAM,IAAI,WAAW,EAAE,OAAO,KAAK;IAC9C,IAAIC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC,EAAE;MAAA,IAAAI,cAAA;MACjC,MAAMC,QAAQ,GAAGJ,IAAI,CAACC,KAAK,CAACH,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC;MAC1D,OAAOK,QAAQ,aAARA,QAAQ,wBAAAD,cAAA,GAARC,QAAQ,CAAEC,IAAI,cAAAF,cAAA,uBAAdA,cAAA,CAAgBG,IAAI;IAC7B,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF,CAAC;EACDC,YAAYA,CAACC,GAAG,EAAEC,EAAE,EAAE;IACpB,IAAI,OAAOZ,MAAM,KAAK,WAAW,EAC/BC,cAAc,CAACY,OAAO,CAAC,KAAK,EAAEV,IAAI,CAACW,SAAS,CAACH,GAAG,CAAC,CAAC;IACpDC,EAAE,CAAC,CAAC;EACN,CAAC;EACDG,QAAQA,CAACH,EAAE,EAAE;IACX,IAAI,OAAOZ,MAAM,KAAK,WAAW,EAAEC,cAAc,CAACe,UAAU,CAAC,KAAK,CAAC;IACnEJ,EAAE,CAAC,CAAC;IACJ;IACAf,OAAO,CAAC,CAAC,CAACoB,IAAI,CAAEC,IAAI,IAAK;MACvBC,QAAQ,CAACC,MAAM,GAAG,oDAAoD;IACxE,CAAC,CAAC;EACJ;AACF,CAAC;AAED,eAAetB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}