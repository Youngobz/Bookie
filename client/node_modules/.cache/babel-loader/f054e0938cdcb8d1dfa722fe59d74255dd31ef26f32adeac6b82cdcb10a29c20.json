{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Obbi\\\\Documents\\\\bootcamp challenges\\\\Bookie\\\\Bookie\\\\client\\\\src\\\\pages\\\\payment.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport CheckoutForm from \"../components/checkout-form\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentWrapper = styled.div`\n  height: 100%;\n  max-width: 900px;\n  margin: 0 auto;\n  background: #7f8fe6;\n  padding: 20px;\n  margin-top: 48px;\n  border-radius: 8px;\n  width: 70%;\n  text-align: center;\n`;\n_c = PaymentWrapper;\nconst Payment = () => {\n  _s();\n  const [stripePromise, setStripePromise] = useState(null);\n  const [clientSecret, setClientSecret] = useState(\"\");\n  useEffect(() => {\n    fetch(\"/api/payment/config\").then(async r => {\n      const {\n        publishableKey\n      } = await r.json();\n      setStripePromise(loadStripe(publishableKey));\n    });\n  }, []);\n  useEffect(() => {\n    fetch(\"/api/payment/create-payment-intent\", {\n      method: \"POST\",\n      body: JSON.stringify({})\n    }).then(async result => {\n      var {\n        clientSecret\n      } = await result.json();\n      setClientSecret(clientSecret);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(PaymentWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Donation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), clientSecret && stripePromise && /*#__PURE__*/_jsxDEV(Elements, {\n      stripe: stripePromise,\n      options: {\n        clientSecret\n      },\n      children: /*#__PURE__*/_jsxDEV(CheckoutForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(Payment, \"ZDt67TezRejyXr9qQfk52xGpGwc=\");\n_c2 = Payment;\nexport default Payment;\nvar _c, _c2;\n$RefreshReg$(_c, \"PaymentWrapper\");\n$RefreshReg$(_c2, \"Payment\");","map":{"version":3,"names":["useEffect","useState","Elements","CheckoutForm","loadStripe","styled","jsxDEV","_jsxDEV","PaymentWrapper","div","_c","Payment","_s","stripePromise","setStripePromise","clientSecret","setClientSecret","fetch","then","r","publishableKey","json","method","body","JSON","stringify","result","children","fileName","_jsxFileName","lineNumber","columnNumber","stripe","options","_c2","$RefreshReg$"],"sources":["C:/Users/Obbi/Documents/bootcamp challenges/Bookie/Bookie/client/src/pages/payment.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport CheckoutForm from \"../components/checkout-form\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport styled from \"styled-components\";\r\n\r\nconst PaymentWrapper = styled.div`\r\n  height: 100%;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n  background: #7f8fe6;\r\n  padding: 20px;\r\n  margin-top: 48px;\r\n  border-radius: 8px;\r\n  width: 70%;\r\n  text-align: center;\r\n`;\r\n\r\nconst Payment = () => {\r\n  const [stripePromise, setStripePromise] = useState(null);\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/payment/config\").then(async (r) => {\r\n      const { publishableKey } = await r.json();\r\n      setStripePromise(loadStripe(publishableKey));\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/payment/create-payment-intent\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({}),\r\n    }).then(async (result) => {\r\n      var { clientSecret } = await result.json();\r\n      setClientSecret(clientSecret);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <PaymentWrapper>\r\n      <h1>Donation</h1>\r\n      {clientSecret && stripePromise && (\r\n        <Elements stripe={stripePromise} options={{ clientSecret }}>\r\n          <CheckoutForm />\r\n        </Elements>\r\n      )}\r\n    </PaymentWrapper>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,OAAOC,YAAY,MAAM,6BAA6B;AACtD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,cAAc,GAAGH,MAAM,CAACI,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAVIF,cAAc;AAYpB,MAAMG,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACdiB,KAAK,CAAC,qBAAqB,CAAC,CAACC,IAAI,CAAC,MAAOC,CAAC,IAAK;MAC7C,MAAM;QAAEC;MAAe,CAAC,GAAG,MAAMD,CAAC,CAACE,IAAI,CAAC,CAAC;MACzCP,gBAAgB,CAACV,UAAU,CAACgB,cAAc,CAAC,CAAC;IAC9C,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAENpB,SAAS,CAAC,MAAM;IACdiB,KAAK,CAAC,oCAAoC,EAAE;MAC1CK,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAACP,IAAI,CAAC,MAAOQ,MAAM,IAAK;MACxB,IAAI;QAAEX;MAAa,CAAC,GAAG,MAAMW,MAAM,CAACL,IAAI,CAAC,CAAC;MAC1CL,eAAe,CAACD,YAAY,CAAC;IAC/B,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACER,OAAA,CAACC,cAAc;IAAAmB,QAAA,gBACbpB,OAAA;MAAAoB,QAAA,EAAI;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAChBhB,YAAY,IAAIF,aAAa,iBAC5BN,OAAA,CAACL,QAAQ;MAAC8B,MAAM,EAAEnB,aAAc;MAACoB,OAAO,EAAE;QAAElB;MAAa,CAAE;MAAAY,QAAA,eACzDpB,OAAA,CAACJ,YAAY;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CACX;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAErB,CAAC;AAACnB,EAAA,CA/BID,OAAO;AAAAuB,GAAA,GAAPvB,OAAO;AAiCb,eAAeA,OAAO;AAAC,IAAAD,EAAA,EAAAwB,GAAA;AAAAC,YAAA,CAAAzB,EAAA;AAAAyB,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}